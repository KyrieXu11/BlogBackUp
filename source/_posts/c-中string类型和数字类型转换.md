---
title: c++ä¸­stringç±»å‹å’Œæ•°å­—ç±»å‹è½¬æ¢
date: 2019-07-14 17:01:01
tags: c++
categories: study
---
# å…³äºæ€è€ƒè¿™ä¸ªé—®é¢˜çš„åŸå› 
   æˆ‘åœ¨åš`pat`çš„é¢˜ç›®çš„æ—¶å€™ç¢°ä¸Šä¸€ä¸ªé¢˜ç›®æ˜¯ä¹™çº§`1054 æ±‚å¹³å‡å€¼`çš„æ—¶å€™é‡ä¸Šäº†ä¸€ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯`string`ç±»å‹çš„å†…å®¹æ˜¯æ•°å­—çš„å˜é‡æ€ä¹ˆè½¬æ¢æˆçº¯æ•°å­—çš„å˜é‡ã€‚

# è§£å†³åŠæ³•
**æˆ‘åœ¨ç½‘ä¸ŠæŸ¥æ‰¾äº†ä¸åŒçš„åŠæ³•ï¼Œæ‰€ä»¥æˆ‘è‡ªå·±æ¥æ€»ç»“å¹¶è®°å½•ä¸€ä¸‹æˆ‘ç†è§£çš„ã€‚**
## 1.ä½¿ç”¨æ ‡å‡†åº“ä¸­stringstreamå¤´æ–‡ä»¶ä¸­çš„æµå¤„ç†
### ä»£ç 
```c++
#include<iostream>
#include<vector>
#include<map>
#include<algorithm>
#include<string>
#include<sstream> 
using namespace std;

int main() {
	string a="-3.2";
	stringstream ss;
	ss<<a;
	double b;
	ss>>b;
	cout<<b;
	return 0;
}
```
### è¿è¡Œç»“æœ
![7.14.1.png](https://i.loli.net/2019/07/14/5d2af398a47af21375.png)

1.å½“ç„¶å‰é¢**åº“**åªéœ€è¦`iostream`å’Œ`sstream`,ä¸»è¦è¿˜æ˜¯`sstream`ä¸­çš„`stringstream`
2.è¯´è¯´å…·ä½“çš„ç”¨æ³•ï¼Œå°±æ˜¯ä½¿ç”¨`stringstream`åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œç„¶åè¿™ä¸ªå¯¹è±¡çš„ç”¨æ³•å°±æ˜¯å’Œæ ‡å‡†è¾“å…¥è¾“å‡ºæµä¸­çš„`cin`ä»¥åŠ`cout`ç”¨æ³•å·®ä¸å¤š(åºŸè¯ï¼Œéƒ½æ˜¯æµå¤„ç†ï¼Œè‚¯å®šæ˜¯å·®ä¸å¤šçš„)
3.è¿™æ ·åº”è¯¥èƒ½æ»¡è¶³ä½¿ç”¨éœ€æ±‚å§ï¼Œå¦‚æœä¸æ»¡è¶³ä»¥åå†æ·»åŠ ã€‚

## 2.ä½¿ç”¨ato'x'()å‡½æ•°
**è¿™ä¸ª`x`æ˜¯`int`ã€`double`ã€`long`çš„ç¬¬ä¸€ä¸ªå­—æ¯ï¼Œæ„æ€å°±æ˜¯æŠŠå¯¹åº”çš„å­—ç¬¦ä¸²è½¬åŒ–æˆå¯¹åº”çš„æ•°æ®ç±»å‹**
### ä»£ç 
```c++
#include<iostream>
#include<stdlib.h>
#include<string>
using namespace std;

int main(){
	string a="-3.2";
	double b=atof(a.c_str());
	cout<<b<<endl;
	string c="+1";
	double d=atof(c.c_str());
	cout<<d<<endl;
	return 0;
} 
```
### è¿è¡Œç»“æœ
![7.14.2.png](https://i.loli.net/2019/07/14/5d2af5a3a26b487259.png)

æœ‰å‡ ä¸ªéœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼š
1.é¦–å…ˆæ˜¯å¤´æ–‡ä»¶ä¸€å®šè¦åŒ…å«`stdlib.h`ï¼Œå› ä¸ºè¿™äº›åº“å‡½æ•°éƒ½æ˜¯ä»æ ‡å‡†åº“ä¸­è°ƒç”¨çš„ï¼Œæ‰€ä»¥ä¸€å®šè¦åŠ `stdlib.h`.
2.å‡½æ•°å‚æ•°ä¸€å®šè¦æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œé‚£`string`ç±»å‹çš„æŒ‡é’ˆæ€ä¹ˆå¾—æ¥çš„ï¼Ÿæ²¡é”™ï¼Œ`string`ç±»ä¸­æœ‰ä¸€ä¸ªå‡½æ•°`c_str()`å°±æ˜¯è·å–`string`ç±»çš„æŒ‡é’ˆ.
3.åˆ«çš„å­—ç¬¦ä¸²æ¯”å¦‚`aaa`è½¬æ¢çš„ç»“æœæ˜¯0ï¼Œè¿™ä¸ªå’Œ**å‰é¢çš„é‚£ç§æ–¹æ³•è¿è¡Œç»“æœæ˜¯ä¸€æ ·çš„**
4.å…¶ä»–è¦å€¼å¾—æ³¨æ„çš„åœ°æ–¹åº”è¯¥å°±æ˜¯æ•°å­—æ•°æ®ç±»å‹è½¬æ¢çš„é—®é¢˜

# åšä¸ªæ€»ç»“
1.å…³äºä¸¤ç§æ–¹å¼çš„ç¼ºç‚¹ï¼Œæˆ‘æ²¡æœ‰é‡ä¸Šä»€ä¹ˆç¼ºç‚¹å•Šä»€ä¹ˆçš„ï¼Œç¼ºç‚¹æ¯”è¾ƒï¼Œç­‰æˆ‘ä»¥åä½¿ç”¨çš„æ—¶å€™å¦‚æœæœ‰ä¸é¡ºæ‰‹å†è¡¥å……å§ã€‚
2.å…³äºæˆ‘å–œæ¬¢å“ªç§æ–¹å¼ï¼Œæˆ‘ä¸ªäººè§‰å¾—æˆ‘æ›´åŠ å–œæ¬¢ç¬¬äºŒç§ï¼Œå› ä¸ºæ¯”è¾ƒçš„ç®€æ´ï¼Œä¸è¿‡é€‰æ‹©å› äººè€Œå¼‚å§ï¼Œç¬¬ä¸€ç§ä¹ŸæŒºå¥½ç”¨çš„ã€‚


---
# 2019.7.14 19:55æ›´æ–°
ä¸Šé¢ä¸¤ä¸ªæ–¹æ³•éƒ½æœ‰BUGï¼Œä¹‹å‰ä¸æ˜¯è¯´äº†åˆ«çš„å­—ç¬¦ä¸²è½¬æ¢çš„ç»“æœéƒ½æ˜¯0ğŸ´ï¼Ÿå¦‚æœæ˜¯ç±»ä¼¼`2.1.3` `2.1-3`ä¹‹ç±»çš„è½¬æ¢çš„ç»“æœæ˜¯`2.1`(å…·ä½“ä¾‹å­å…·ä½“åˆ†æ)æ€»è€Œè¨€ä¹‹å°±æ˜¯è¿™ç§ç±»å‹çš„å­—ç¬¦ä¸²è½¬æ¢ç»“æœä¸æ˜¯0....æˆ‘è¢«å‘äº†....ğŸ˜­
å…·ä½“çš„è¿è¡Œç»“æœå¦‚ä¸‹ï¼š
![7.14.3.png](https://i.loli.net/2019/07/14/5d2b193ade77261206.png)